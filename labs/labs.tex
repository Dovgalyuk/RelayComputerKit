\documentclass{book}

\usepackage[a4paper]{geometry}

\usepackage[T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[english,russian]{babel}

\usepackage{graphicx}

\begin{document}

\tableofcontents

\part{Описание конструктора}

\chapter{Релейная логика}

\part{Лабораторные работы}

\chapter{Калькулятор}

\section{Тумблеры}

Модуль с тумблерами используется для ручного включения и выключения реле.
Присоединяя его к разным разъёмам, можно задавать четырёхбитное число,
либо переключать до четырёх управляющих сигналов.

Проще всего проверить работу тумблеров, подключив их к управляющей шине
регистрового модуля, в который вставлены только $4$ реле.

\subsection{Практикум}

\includegraphics[width=\columnwidth]{photo/switches.jpg}

\begin{enumerate}
    \item Переключать тумблеры. Убедиться, что положение одного тумблера меняет состояние одного реле.
    \item Запомнить включенное и выключенное состояния тумблера, чтобы позднее не было проблем с управлением другими схемами.
\end{enumerate}

\section{Регистр}

Модуль четырёхбитного регистра состоит из четырёх реле-триггеров,
одного реле для обнуления регистра и трёх реле для подключения
к шинам данных.

Модуль <<Регистр>> имеет следующие разъёмы:
\begin{itemize}
  \item Слева и справа: управляющие сигналы сброса и выборки.
        Можно подключить тумблеры
        для ручного включения сигналов. Также можно соединить несколько
        модулей регистра, чтобы управлять одним набором сигналов сразу
        для $8$, $12$ \ldots бит.
  \item Сверху и снизу: три шины данных. Реле регистра могут
        подключаться к шинам для записи или чтения данных.
  \item Дополнительные разъёмы с битами $0-3$ и $2-3$ для чтения или
        записи значения без подключения к шине.
\end{itemize}

\subsection{Практикум}

Протестировать работу регистра можно собрав следующую схему:

\includegraphics[width=\columnwidth]{photo/register.jpg}

\begin{itemize}
  \item Тумблеры слева управляют работой регистра. Бит 0 --- обнуление, бит 1 --- выборка на шину 1.
  \item Тумблеры сверху нужны для ввода значения регистра. Когда он подключается к шине 1,
        значения, набранное на тумблерах, записывается в регистр.
\end{itemize}

\subsubsection{Регистр без шины}

\begin{enumerate}
    \item Подключить тубмлеры проводом к битам $0-3$ вместо шины.
    \item Набирать значение, убедиться, что биты переключаются в $1$, но не возвращаются в $0$.
    \item Обнулить тумблеры с данными.
    \item Включить и выключить сигнал сброса. Убедиться, что значения всех битов теперь $0$.
\end{enumerate}

\subsubsection{Регистр с шиной}

\begin{enumerate}
    \item Отключить все управляющие сигналы.
    \item Набрать значение на тумблерах для данных. Убедиться, что это не влияет на регистр.
    \item Включить и выключить сигнал выборки на шину $1$. Убедиться, что данные записались в регистр.
    \item Включить и выключить сигнал сброса. Убедиться, что значения всех битов теперь $0$.
\end{enumerate}

\section{Шина и регистровый файл}

Несколько регистров можно соединить в регистровый файл.
У каждого из регистров есть сигналы выборки на одну из трёх шин.

Если два регистра подключены к одной шине одновременно,
то значения одного будут копироваться в другой. Если точнее,
включённые биты включают аналогичные в другом регистре, то есть
копирование возможно в обе стороны одновременно.

Нулевые биты при этом копироваться не могут. Для записи нулей
регистр необходимо сбросить.


\subsection{Практикум}

Схема:

\includegraphics[width=\columnwidth]{photo/register_file.jpg}

Запись в регистры:

\begin{enumerate}
    \item Отключить все управляющие сигналы.
    \item Набрать значение на тумблерах, подключённых к шине данных $1$.
    \item Подключить с помощью тумблера регистр к шине $1$. Убедиться, что в него записалось набранное значение.
    \item Отключить регистр от шины.
    \item Подключить другой регистр к шине $1$. Убедиться, что в него записалось набранное значение.
\end{enumerate}

Копирование значения:

\begin{enumerate}
    \item Отключить все управляющие сигналы.
    \item Подключить регистр с ненулевыми битами к шине $2$.
    \item Подключить пустой регистр к шине $2$. убедиться, что он получил такое же значение, что и в первом регистре.
    \item Отключить все управляющие сигналы.
    \item Аналогично проверить шину $3$.
\end{enumerate}


\section{Унарные логические операции}

Модуль для унарных операций выполняет действия над $4$-битным числом: сдвиг вправо и инверсия битов.

Может каскадироваться для сдвига $8$-битных чисел.

\subsection{Практикум}

На вход модуля унарных операций подключается модуль с тумблерами.
Выходы подключаются к шинам регистра.

Схема:

\includegraphics[width=\columnwidth]{photo/unary.jpg}

\begin{enumerate}
    \item Отключить все управляющие сигналы.
    \item Набрать на тумблерах со входными данными значение $1100$.
    \item Подключить выходной регистр к шине $1$. Убедиться, что в него записалось значение $0011$ (инверсия).
    \item Отключить регистр от шины, сбросить его значение.
    \item Подключить выходной регистр к шине $2$. Убедиться, что в него записалось значение $0110$ (сдвиг вправо).
\end{enumerate}

\section{Бинарные логические операции}

Модуль логических операций поддерживает вычисление AND, OR и XOR.
У модуля есть два четырёхбитных входа и три выхода.
Каждый выход отвечает за одну операцию.

\subsection{Практикум}

Ко входам модуля подключаются два модуля с тумблерами, а к выходам --- регистр,
куда будет записываться результат.

Схема:

\includegraphics[width=0.5\columnwidth]{photo/logic.jpg}

\begin{enumerate}
    \item Отключить все управляющие сигналы.
    \item Набрать на тумблерах первого операнда значение $1100$.
    \item Набрать на тумблерах второго операнда значение $1010$.
    \item Подключить выходной регистр к шине $1$. Убедиться, что в него записалось значение $1000$ (AND).
    \item Отключить регистр от шины, сбросить его значение.
    \item Подключить выходной регистр к шине $2$. Убедиться, что в него записалось значение $1110$ (OR).
    \item Отключить регистр от шины, сбросить его значение.
    \item Подключить выходной регистр к шине $3$. Убедиться, что в него записалось значение $0110$ (XOR).
\end{enumerate}


\section{Сложение}

Сумматор складывает два четырёхбитных числа, один бит переноса и выдаёт четырёхбитное число и бит переноса.
У модуля есть два четырёхбитный вход и один выход.
Каждый выход отвечает за одну операцию.


\subsection{Практикум}

Ко входам модуля подключаются два модуля с тумблерами, а к выходам --- регистр,
куда будет записываться результат.

Схема:

\includegraphics[width=0.5\columnwidth]{photo/adder.jpg}

\begin{enumerate}
    \item Отключить все управляющие сигналы.
    \item Установить перемычку для подачи сигнала на $~CY$.
    \item Набрать на тумблерах первого операнда значение $0011$.
    \item Набрать на тумблерах второго операнда значение $1010$.
    \item Подключить выходной регистр к шине $3$. Убедиться, что в него записалось значение $1101$.
    \item Отключить регистр от шины, сбросить его значение.
    \item Установить перемычку для подачи сигнала на $CY$.
    \item Подключить выходной регистр к шине $3$. Убедиться, что в него записалось значение $1110$.
\end{enumerate}


\section{Вычитание}

\subsubsection{Вычитание через сложение с дополнительным обратным кодом}

Собрать схему для сложения.

\subsubsection{Вычитание с помощью инвертора}

\section{Целый калькулятор}

\section{Восьмибитный калькулятор}

\chapter{Элементы компьютера}

\chapter{Компьютер}

\end{document}
